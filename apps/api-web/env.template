# =============================================================================
# LINDEX API Environment Configuration Template
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control!

# -----------------------------------------------------------------------------
# Authentication (Clerk)
# -----------------------------------------------------------------------------
# Get these from: https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Clerk URLs (adjust for your domain)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/

# -----------------------------------------------------------------------------
# Database (Supabase)
# -----------------------------------------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Direct database connection (for migrations, if needed)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# OpenAI API (for embeddings generation)
# -----------------------------------------------------------------------------
# CRITICAL: Configure your OpenAI account to NOT use data for training!
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...

# Embedding model configuration
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Options: text-embedding-3-small (faster, cheaper) or text-embedding-3-large (better quality)

# Embedding dimensions (must match model)
OPENAI_EMBEDDING_DIMENSIONS=1536
# text-embedding-3-small: 1536 dimensions (default)
# text-embedding-3-large: 3072 dimensions

# -----------------------------------------------------------------------------
# Ingestion Pipeline Configuration
# -----------------------------------------------------------------------------
# Maximum tokens per text chunk sent to embeddings API
OPENAI_MAX_TOKENS_PER_CHUNK=512

# Text chunking settings
INGESTION_CHUNK_SIZE=1000
# Characters per chunk (approximate - will be adjusted to token boundaries)

INGESTION_CHUNK_OVERLAP=200
# Overlap between chunks to maintain context across boundaries

# File upload limits
INGESTION_MAX_FILE_SIZE=52428800
# Maximum file size in bytes (default: 50MB)

INGESTION_ALLOWED_FILE_TYPES=pdf,png,jpg,jpeg,tiff
# Comma-separated list of allowed file extensions

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Node environment
NODE_ENV=development
# Options: development, production, test

# API rate limiting
API_RATE_LIMIT_REQUESTS=100
# Maximum requests per window per user/IP

API_RATE_LIMIT_WINDOW_MS=60000
# Rate limit window in milliseconds (default: 1 minute)

# Logging
LOG_LEVEL=info
# Options: debug, info, warn, error, fatal

LOG_FORMAT=json
# Options: json (production), pretty (development)

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated, no spaces)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006
# Add your production domains here

# Session configuration
SESSION_SECRET=your-random-session-secret-min-32-chars
# Generate with: openssl rand -base64 32

# -----------------------------------------------------------------------------
# Optional: External Services
# -----------------------------------------------------------------------------
# Monitoring/Error Tracking (e.g., Sentry)
# SENTRY_DSN=https://...

# Analytics
# NEXT_PUBLIC_ANALYTICS_ID=...

# Email service (for notifications)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=...
# SMTP_PASSWORD=...

